<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ReactiveX - FlatMap operator</title>


    <!-- Bootstrap -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Prism -->
    <link href="/css/prism.css" rel="stylesheet" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css" />

    <!-- Embeddable RxMarbles -->
    <script defer src="/js/CustomElements.min.js"></script>
    <script defer src="/js/rx-marbles.js"></script>

  </head>
  <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><img src="/assets/Rx_Icon.png" style="height:90%;" alt="" /> ReactiveX</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="/intro.html">Introduction</a></li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Docs <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/documentation/observable.html">Observable</a></li>
<li><a href="/documentation/operators.html">Operators</a></li>
<li><a href="/documentation/subject.html">Subject</a></li>
<li><a href="/documentation/scheduler.html">Scheduler</a></li>

              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Languages <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a href="https://github.com/ReactiveX/RxJava">RxJava<span class="external-link"></span></a></li>
<li><a href="https://github.com/Reactive-Extensions/RxJS">RxJS<span class="external-link"></span></a></li>
<li><a href="https://github.com/Reactive-Extensions/Rx.NET">Rx.NET<span class="external-link"></span></a></li>
<li><a href="/rxscala">RxScala</a></li>
<li><a href="https://github.com/ReactiveX/RxClojure">RxClojure<span class="external-link"></span></a></li>
<li><a href="/languages.html">Others</a></li>

              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Resources <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/tutorials.html">Tutorials</a></li>
<!-- Uncomment only when ready
<li><a href="/releases.html">Releases and Binaries</a></li>
<li><a href="#">Code samples</a></li>
<li><a href="#">Presentations</a></li>
<li><a href="#">Related Projects</a></li>
<li><a href="#">Who uses Rx</a></li>
 -->

              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a href="https://github.com/ReactiveX">GitHub<span class="external-link"></span></a></li>
<li><a href="https://twitter.com/ReactiveX">Twitter<span class="external-link"></span></a></li>
<li><a href="/community.html">Others</a></li>

              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="/js/jquery/1.11.0/jquery.min.js"></script>

    <div class="site-content">
      <style>
/* make sidebar nav vertical */
@media (min-width: 768px) {
  .side-menu {
    padding-top: 20px;
    padding-bottom: 20px;
    padding-right: 20px;
    max-height: none;
    border: 1px solid #DDD;
  }
}
</style>

<div class="full-page-container">
  <div class="row">
    <div class="col-sm-8">
      <ol class="breadcrumb">
  <li><a href="/documentation/operators.html">Operators</a></li>
  <li><a href="/documentation/operators.html#transforming">Transforming</a></li>
  <li class="active">FlatMap</li>
</ol>

<h1>FlatMap</h1>
<h3>transform the items emitted by an Observable into Observables, then flatten the emissions from those into a single Observable</h3>

<figure>
 <img src="images/flatMap.c.png" style="width:100%;" alt="FlatMap" />
 <figcaption><p>
  The <span class="operator">FlatMap</span> operator transforms an Observable by applying a function
  that you specify to each item emitted by the source Observable, where that function returns an
  Observable that itself emits items. <span class="operator">FlatMap</span> then merges the emissions
  of these resulting Observables, emitting these merged results as its own sequence.
 </p><p>
  This method is useful, for example, when you have an Observable that emits a series of items that
  themselves have Observable members or are in other ways transformable into Observables, so that you
  can create a new Observable that emits the complete collection of items emitted by the
  sub-Observables of these items.
 </p><p>
  Note that <span class="operator">FlatMap</span> <em>merges</em> the emissions of these Observables,
  so that they may interleave.
 </p><p>
  In several of the language-specific implementations there is also an operator that does
  <em>not</em> interleave the emissions from the transformed Observables, but instead emits these
  emissions in strict order, often called <span class="operator">ConcatMap</span> or something
  similar.
 </p></figcaption>
</figure>

<h4>See Also</h4>
<ul>
 <li><a href="map.html"><span class="operator">Map</span></a></li>
 <li><a href="http://blog.danlew.net/2014/09/22/grokking-rxjava-part-2/"><cite>Grokking RxJava</cite>: Operator, Operator</a> by Dan Lew</li>
 <li><a href="http://www.introtorx.com/Content/v1.0.10621.0/08_Transformation.html#SelectMany"><cite>Introduction to Rx</cite>: SelectMany</a></li>
 <li><a href="https://jkschneider.github.io/blog/2014/recursive-observables-with-rxjava.html"><cite>Recurseive Observables with RxJava</cite></a> by Jon Schneider</li>
</ul>

<h2>Language-Specific Information:</h2>

<div class="panel-group operators-by-language" id="accordion" role="tablist" aria-multiselectable="true">

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxClojure">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxClojure" aria-expanded="true" aria-controls="collapseRxClojure">
              RxClojure <code>flatmap mapcat</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxClojure" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxClojure">
          <div class="panel-body">
            
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxCpp">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxCpp" aria-expanded="true" aria-controls="collapseRxCpp">
              RxCpp <code>concat_map flat_map</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxCpp" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxCpp">
          <div class="panel-body">
            
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxGroovy">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxGroovy" aria-expanded="true" aria-controls="collapseRxGroovy">
              RxGroovy <code>concatMap flatMap flatMapIterable StringObservable.split switchMap</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxGroovy" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxGroovy">
          <div class="panel-body">
            
    <figure class="variant">
     <img src="images/mergeMap.png" style="width:100%;" alt="flatMap" />
     <figcaption><p>
      RxGroovy implements the <code>flatMap</code> operator.
     </p>
     <h4>Sample Code</h4>
     <div class="code groovy"><pre>
// this closure is an Observable that emits three numbers
numbers   = Observable.from([1, 2, 3]);
// this closure is an Observable that emits two numbers based on what number it is passed
multiples = { n -> Observable.from([ n*2, n*3 ]) };   

numbers.flatMap(multiples).subscribe(
  { println(it); },                          // onNext
  { println("Error: " + it.getMessage()); }, // onError
  { println("Sequence complete"); }          // onCompleted
);</pre></div>
     <div class="output"><pre>
2
3
4
6
6
9
Sequence complete</pre></div>
     <p>
      Note that if any of the individual Observables mapped to the items from the source Observable
      by <code>flatMap</code> aborts by invoking <code>onError</code>, the Observable produced by
      <code>flatMap</code> will itself immediately abort and invoke <code>onError</code>.
     </p><p>
      A version of this variant of the operator (still in Beta as of this writing) takes an additional
      <code>int</code> parameter. This parameter sets the maximum number of concurrent subscriptions
      that <code>flatMap</code> will attempt to have to the Observables that the items emitted by the source
      Observable map to. When it reaches this maximum number, it will wait for one of those Observables to
      terminate before subscribing to another.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1)"><code>flatMap(Func1)</code></a></li>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20int)"><code>flatMap(Func1,int)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/mergeMap.nce.png" style="width:100%;" alt="flatMap" />
     <figcaption><p>
      Another version of <code>flatMap</code> creates (and flattens) a new Observable for each item
      <em>and notification</em> from the source Observable.
     </p><p>
      A version of this variant of the operator (still in Beta as of this writing) takes an additional
      <code>int</code> parameter. This parameter sets the maximum number of concurrent subscriptions
      that <code>flatMap</code> will attempt to have to the Observables that the items emitted by the source
      Observable map to. When it reaches this maximum number, it will wait for one of those Observables to
      terminate before subscribing to another.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20rx.functions.Func1,%20rx.functions.Func0)"><code>flatMap(Func1,Func1,Func0)</code></a></li>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20rx.functions.Func1,%20rx.functions.Func0,%20int)"><code>flatMap(Func1,Func1,Func0,int)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/mergeMap.r.png" style="width:100%;" alt="flatMap" />
     <figcaption><p>
      Another version combines items from the source Observable with the Observable triggered by
      those source items, and emits these combinations.
     </p><p>
      A version of this variant of the operator (still in Beta as of this writing) takes an additional
      <code>int</code> parameter. This parameter sets the maximum number of concurrent subscriptions
      that <code>flatMap</code> will attempt to have to the Observables that the items emitted by the source
      Observable map to. When it reaches this maximum number, it will wait for one of those Observables to
      terminate before subscribing to another.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20rx.functions.Func2)"><code>flatMap(Func1,Func2)</code></a></li>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20rx.functions.Func2,%20int)"><code>flatMap(Func1,Func2,int)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/mergeMapIterable.png" style="width:100%;" alt="flatMapIterable" />
     <figcaption><p>
      The <code>flatMapIterable</code> variants pair up source items and generated
      <code>Iterable</code>s rather than source items and generated Observables, but otherwise work
      in much the same way.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMapIterable(rx.functions.Func1)"><code>flatMapIterable(Func1)</code></a></li>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMapIterable(rx.functions.Func1,%20rx.functions.Func2)"><code>flatMapIterable(Func1,Func2)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/concatMap.png" style="width:100%;" alt="concatMap" />
     <figcaption><p>
      There is also a <code>concatMap</code> operator, which is like the simpler version of the
      <code>flatMap</code> operator, but it concatinates rather than merges the resulting
      Observables in order to generate its own sequence.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#concatMap(rx.functions.Func1)"><code>concatMap(Func1)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/switchMap.png" style="width:100%;" alt="switchMap" />
     <figcaption><p>
      RxGroovy also implements the <code>switchMap</code> operator. It behaves much like 
      <code>flatMap</code>, except that whenever a new item is emitted by the source Observable, it
      will unsubscribe to and stop mirroring the Observable that was generated from the
      previously-emitted item, and begin only mirroring the current one.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#switchMap(rx.functions.Func1)"><code>switchMap(Func1)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/St.split.png" style="width:100%;" alt="split" />
     <figcaption><p>
      In the distinct <code>StringObservable</code> class (not part of RxGroovy by default) there is also a
      <code>split</code> operator that converts an Observable of Strings into an Observable of Strings that
      treats the source sequence as a stream and splits it on a specified regex boundary, then merges the
      results of this split.
     </p>
     <h4>See Also</h4>
     <ul>
      <li><a href="http://www.nurkiewicz.com/2014/12/accessing-meetups-streaming-api-with.html">Aligning packets with JSON documents</a> with the <code>split</code> operator</li>
     </ul>
     </figcaption>
    </figure>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxJava">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxJava" aria-expanded="true" aria-controls="collapseRxJava">
              RxJava <code>concatMap flatMap flatMapIterable StringObervable.split switchMap</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxJava" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxJava">
          <div class="panel-body">
            
    <figure class="variant">
     <img src="images/mergeMap.png" style="width:100%;" alt="flatMap" />
     <figcaption><p>
      RxJava implements the <code>flatMap</code> operator.
     </p><p>
      Note that if any of the individual Observables mapped to the items from the source Observable
      by <code>flatMap</code> aborts by invoking <code>onError</code>, the Observable produced by
      <code>flatMap</code> will itself immediately abort and invoke <code>onError</code>.
     </p><p>
      A version of this variant of the operator (still in Beta as of this writing) takes an additional
      <code>int</code> parameter. This parameter sets the maximum number of concurrent subscriptions
      that <code>flatMap</code> will attempt to have to the Observables that the items emitted by the source
      Observable map to. When it reaches this maximum number, it will wait for one of those Observables to
      terminate before subscribing to another.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1)"><code>flatMap(Func1)</code></a></li>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20int)"><code>flatMap(Func1,int)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/mergeMap.nce.png" style="width:100%;" alt="flatMap" />
     <figcaption><p>
      Another version of <code>flatMap</code> creates (and flattens) a new Observable for each item
      <em>and notification</em> from the source Observable.
     </p><p>
      A version of this variant of the operator (still in Beta as of this writing) takes an additional
      <code>int</code> parameter. This parameter sets the maximum number of concurrent subscriptions
      that <code>flatMap</code> will attempt to have to the Observables that the items emitted by the source
      Observable map to. When it reaches this maximum number, it will wait for one of those Observables to
      terminate before subscribing to another.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20rx.functions.Func1,%20rx.functions.Func0)"><code>flatMap(Func1,Func1,Func0)</code></a></li>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20rx.functions.Func1,%20rx.functions.Func0,%20int)"><code>flatMap(Func1,Func1,Func0,int)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/mergeMap.r.png" style="width:100%;" alt="flatMap" />
     <figcaption><p>
      Another version combines items from the source Observable with the Observable triggered by
      those source items, and emits these combinations.
     </p><p>
      A version of this variant of the operator (still in Beta as of this writing) takes an additional
      <code>int</code> parameter. This parameter sets the maximum number of concurrent subscriptions
      that <code>flatMap</code> will attempt to have to the Observables that the items emitted by the source
      Observable map to. When it reaches this maximum number, it will wait for one of those Observables to
      terminate before subscribing to another.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20rx.functions.Func2)"><code>flatMap(Func1,Func2)</code></a></li>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMap(rx.functions.Func1,%20rx.functions.Func2,%20int)"><code>flatMap(Func1,Func2,int)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/mergeMapIterable.png" style="width:100%;" alt="flatMapIterable" />
     <figcaption><p>
      The <code>flatMapIterable</code> variants pair up source items and generated
      <code>Iterable</code>s rather than source items and generated Observables, but otherwise work
      in much the same way.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMapIterable(rx.functions.Func1)"><code>flatMapIterable(Func1)</code></a></li>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#flatMapIterable(rx.functions.Func1,%20rx.functions.Func2)"><code>flatMapIterable(Func1,Func2)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/concatMap.png" style="width:100%;" alt="concatMap" />
     <figcaption><p>
      There is also a <code>concatMap</code> operator, which is like the simpler version of the
      <code>flatMap</code> operator, but it concatinates rather than merges the resulting
      Observables in order to generate its own sequence.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#concatMap(rx.functions.Func1)"><code>concatMap(Func1)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/switchMap.png" style="width:100%;" alt="switchMap" />
     <figcaption><p>
      RxJava also implements the <code>switchMap</code> operator. It behaves much like 
      <code>flatMap</code>, except that whenever a new item is emitted by the source Observable, it
      will unsubscribe to and stop mirroring the Observable that was generated from the
      previously-emitted item, and begin only mirroring the current one.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#switchMap(rx.functions.Func1)"><code>switchMap(Func1)</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/St.split.png" style="width:100%;" alt="split" />
     <figcaption><p>
      In the distinct <code>StringObservable</code> class (not part of RxJava by default) there is also a
      <code>split</code> operator that converts an Observable of Strings into an Observable of Strings that
      treats the source sequence as a stream and splits it on a specified regex boundary, then merges the
      results of this split.
     </p></figcaption>
    </figure>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxJS">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxJS" aria-expanded="true" aria-controls="collapseRxJS">
              RxJS <code>concatMap concatMapObserver flatMap flatMapLatest flatMapObserver for forIn manySelect selectConcat selectConcatObserver selectMany selectManyObserver selectSwitch</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxJS" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxJS">
          <div class="panel-body">
            
    <p>
     RxJS has a wealth of operators that perform
     <span class="operator">FlatMap</span>-like operations. In RxJS, the functions that transform
     items emitted by the source Observable into Observables typically take as parameters both the
     item and the index of the item in the Observable sequence.
    </p>
    <figure class="variant">
     <img src="images/flatMap.png" style="width:100%;" alt="flatMap" />
     <figcaption><p>
      RxJS implements the basic <code>flatMap</code> operator. It has a variant that allows you to
      apply a transformative function (an optional second parameter to <code>flatMap</code>) to the
      items emitted by the Observables generated for each item in the source Observable, before
      merging and emitting those items.
     </p><p>
      <code>flatMap</code> works just as well if the function you provide transforms items from the
      source Observables into Observables, into Promises, or into arrays.
     </p><p>
      &ldquo;<code>selectMany</code>&rdquo; is an alias for <code>flatMap</code>.
     </p>
     <h4>Sample Code</h4>
     <div class="code javascript"><pre>
var source = Rx.Observable
    .range(1, 2)
    .selectMany(function (x) {
        return Rx.Observable.range(x, 2);
    });

var subscription = source.subscribe(
    function (x) { console.log('Next: ' + x); },
    function (err) { console.log('Error: ' + err); },
    function () { console.log('Completed'); });</pre></div><div class="output"><pre>
Next: 1
Next: 2
Next: 2
Next: 3
Completed</pre></div>
     <div class="code javascript"><pre>
// Using a promise
var source = Rx.Observable.of(1,2,3,4)
    .selectMany(function (x, i) {
        return Promise.resolve(x + i);
    });

var subscription = source.subscribe(
    function (x) { console.log('Next: ' + x); },
    function (err) { console.log('Error: ' + err); },
    function () { console.log('Completed'); });</pre></div><div class="output"><pre>
Next: 1
Next: 3
Next: 5
Next: 7
Completed</pre></div>
     <div class="code javascript"><pre>
// Using an array
Rx.Observable.of(1,2,3)
  .flatMap(
    function (x, i) { return [x,i]; },
    function (x, y, ix, iy) { return x + y + ix + iy; }
  );

var subscription = source.subscribe(
    function (x) { console.log('Next: ' + x); },
    function (err) { console.log('Error: ' + err); },
    function () { console.log('Completed'); });</pre></div><div class="output"><pre>
Next: 2
Next: 2
Next: 5
Next: 5
Next: 8
Next: 8
Completed</pre></div>
     <p><code>flatMap</code> is found in each of the following distributions:</p>
     <ul>
      <li><code>rx.js</code></li>
      <li><code>rx.all.js</code></li>
      <li><code>rx.all.compat.js</code></li>
      <li><code>rx.compat.js</code></li>
      <li><code>rx.lite.js</code></li>
      <li><code>rx.lite.compat.js</code></li>
     </ul>
     </figcaption>
    </figure>
    <figure class="variant">
     <img src="images/flatMapLatest.png" style="width:100%;" alt="flatMapLatest" />
     <figcaption><p>
      The <code>flatMapLatest</code> operator behaves much like the standard
      <span class="operator">FlatMap</span> operator, except that whenever a new item is emitted
      by the source Observable, it will unsubscribe to and stop mirroring the Observable that was
      generated from the previously-emitted item, and begin only mirroring the current one.
     </p><p>
      &ldquo;<code>selectSwitch</code>&rdquo; is an alias for <code>flatMapLatest</code>.
     </p>
     <h4>Sample Code</h4>
     <div class="code javascript"><pre>
var source = Rx.Observable
    .range(1, 2)
    .flatMapLatest(function (x) {
        return Rx.Observable.range(x, 2);
    });

var subscription = source.subscribe(
    function (x) { console.log('Next: ' + x); },
    function (err) { console.log('Error: ' + err); },
    function () { console.log('Completed'); });</pre></div><div class="output"><pre>
Next: 1
Next: 2
Next: 3
Completed</pre></div>
     <p><code>flatMapLatest</code> is found in each of the following distributions:</p>
     <ul>
      <li><code>rx.js</code></li>
      <li><code>rx.all.js</code></li>
      <li><code>rx.all.compat.js</code></li>
      <li><code>rx.compat.js</code></li>
      <li><code>rx.lite.js</code></li>
      <li><code>rx.lite.compat.js</code></li>
     </ul>
     </figcaption>
    </figure>
    <figure class="variant">
     <img src="images/flatMapObserver.png" style="width:100%;" alt="flatMapObserver" />
     <figcaption><p>
      <code>flatMapObserver</code> creates (and flattens) a new Observable for each item <em>and
      notification</em> from the source Observable. It accepts a different transformation function
      to respond to <code>onNext</code>, <code>onError</code>, and <code>onCompleted</code>
      notifications and to return an Observable for each.
     </p><p>
      &ldquo;<code>selectManyObserver</code>&rdquo; is an alias for <code>flatMapObserver</code>.
     </p>
     <h4>Sample Code</h4>
     <div class="code javascript"><pre>
var source = Rx.Observable.range(1, 3)
    .flatMapObserver(
        function (x, i) {
            return Rx.Observable.repeat(x, i);
        },
        function (err) {
            return Rx.Observable.return(42);
        },
        function () {
            return Rx.Observable.empty();
        });

var subscription = source.subscribe(
    function (x) { console.log('Next: ' + x); },
    function (err) { console.log('Error: ' + err); },
    function () { console.log('Completed'); });</pre></div><div class="output"><pre>
Next: 2
Next: 3
Next: 3
Completed</pre></div>
     <p><code>flatMapObserver</code> is found in each of the following distributions:</p>
     <ul>
      <li><code>rx.js</code></li>
      <li><code>rx.all.js</code></li>
      <li><code>rx.all.compat.js</code></li>
      <li><code>rx.compat.js</code></li>
     </ul>
     </figcaption>
    </figure>
    <figure class="variant">
     <img src="images/concatMap.png" style="width:100%;" alt="concatMap" />
     <figcaption><p>
      There is also a <code>concatMap</code> operator, which is like the <code>flatMap</code>
      operator, but it concatinates rather than merges the resulting Observables in order to
      generate its own sequence.
     </p><p>
      As with <code>flatMap</code>, <code>concatMap</code> works just as well if the function you
      provide transforms items from the source Observables into Observables, into Promises, or into
      arrays.
     </p>
     <p>&ldquo;<code>selectConcat</code>&rdquo; is an alias for <code>concatMap</code>.</p>
     <p><code>concatMap</code> is found in each of the following distributions:</p>
     <ul>
      <li><code>rx.js</code></li>
      <li><code>rx.all.js</code></li>
      <li><code>rx.all.compat.js</code></li>
      <li><code>rx.compat.js</code></li>
      <li><code>rx.lite.js</code></li>
      <li><code>rx.lite.compat.js</code></li>
     </ul>
     </figcaption>
    </figure>
    <figure class="variant">
     <img src="images/for.png" style="width:100%;" alt="for" />
     <figcaption><p>
      The <code>for</code> operator (and its alias, <code>forIn</code>) is very similar to
      <code>concatMap</code>, though it has a converse flexibility. While <code>concatMap</code>
      operates on an Observable source and can use Observable, Promise, or array intermediaries to
      generate its output sequence; <code>for</code> always uses Observables as its intermediaries,
      but can operate on a source that is either an Observable, a Promise, or an array.
     </p>
     <p><code>concatMap</code> is found in each of the following distributions:</p>
     <ul>
      <li><code>rx.all.js</code></li>
      <li><code>rx.all.compat.js</code></li>
      <li><code>rx.experimental.js</code> (requires either <code>rx.js</code>, <code>rx.compat.js</code>, <code>rx.lite.js</code>, or <code>rx.lite.compat.js</code>)</li>
     </ul>
     </figcaption>
    </figure>
    <figure class="variant">
     <img src="images/concatMapObserver.png" style="width:100%;" alt="concatMapObserver" />
     <figcaption><p>
      There is also a <code>concatMapObserver</code> operator, which is like the
      <code>flatMapObserver</code> operator, in that it creates Observables to merge from both the
      emissions and terminal notifications of the source Observable, but it concatinates rather than
      merges these resulting Observables in order to generate its own sequence.
     </p><p>
      &ldquo;<code>selectConcatObserver</code>&rdquo; is an alias for
      <code>concatMapObserver</code>.
     </p>
     <p><code>concatMapObserver</code> is found in each of the following distributions:</p>
     <ul>
      <li><code>rx.js</code></li>
      <li><code>rx.all.js</code></li>
      <li><code>rx.all.compat.js</code></li>
      <li><code>rx.compat.js</code></li>
     </ul>
     </figcaption>
    </figure>
    <figure class="variant">
     <img src="images/manySelect.png" style="width:100%;" alt="manySelect" />
     <figcaption><p>
      The <code>manySelect</code> operator is often described as a &ldquo;comonadic bind.&rdquo; If that clears
      things up for you, you&#8217;re welcome. Elsewise, here&#8217;s an explanation:
     </p><p>
      <code>manySelect</code> internally transforms each item emitted by the source Observable into an
      Observable that emits that item and all items subsequently emitted by the source Observable, in the
      same order. So, for example, it internally transforms an Observable that emits the numbers 1,2,3 into
      three Observables: one that emits 1,2,3, one that emits 2,3, and one that emits 3.
     </p><p>
      Then <code>manySelect</code> passes each of these Observables into a function that you provide, and emits,
      as the emissions from the Observable that <code>manySelect</code> returns, the return values from those
      function calls.
     </p><p>
      In this way, each item emitted by the resulting Observable is a function of the corresponding item in
      the source Observable and all of the items emitted by the source Observable after it.
     </p><p>
      <code>manySelect</code> is found in each of the following distributions:
     </p>
     <ul>
      <li><code>rx.all.js</code></li>
      <li><code>rx.all.compat.js</code></li>
      <li><code>rx.experimental.js</code></li>
     </ul>
     <p>
      <code>manySelect</code> requires one of the following distributions:
     </p>
     <ul>
      <li><code>rx.js</code></li>
      <li><code>rx.compat.js</code></li>
      <li><code>rx.lite.js</code></li>
      <li><code>rx.lite.compat.js</code></li>
     </ul>
     <h4>See Also</h4>
     <ul>
      <li><a href="https://social.msdn.microsoft.com/Forums/en-US/e70fe8b6-6d9d-486a-a8d0-c1bc66551ded/what-does-the-new-manyselect-operator-do?forum=rx"><cite>Microsoft Developer Network</cite>: &ldquo;What does the new ManySelect operator do?&rdquo;</a></li>
     </ul>
     </figcaption>
    </figure>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxKotlin">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxKotlin" aria-expanded="true" aria-controls="collapseRxKotlin">
              RxKotlin <code>concatMap flatMap flatMapIterable switchMap</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxKotlin" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxKotlin">
          <div class="panel-body">
            
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxNET">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxNET" aria-expanded="true" aria-controls="collapseRxNET">
              RxNET <code>ManySelect SelectMany</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxNET" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxNET">
          <div class="panel-body">
            
    <p>
     <span style="color:#f00">TBD</span>
    </p>
    <h4>See Also</h4>
    <ul>
     <li><a href="https://social.msdn.microsoft.com/Forums/en-US/e70fe8b6-6d9d-486a-a8d0-c1bc66551ded/what-does-the-new-manyselect-operator-do?forum=rx"><cite>Microsoft Developer Network</cite>: &ldquo;What does the new ManySelect operator do?&rdquo;</a></li>
    </ul>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxPY">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxPY" aria-expanded="true" aria-controls="collapseRxPY">
              RxPY <code>concat_all flat_map for_in many_select select_many</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxPY" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxPY">
          <div class="panel-body">
            
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxrb">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxrb" aria-expanded="true" aria-controls="collapseRxrb">
              Rxrb <code>flat_map flat_map_with_index</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxrb" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxrb">
          <div class="panel-body">
            
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxScala">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxScala" aria-expanded="true" aria-controls="collapseRxScala">
              RxScala <code>concatMap flatMap flatMapIterable flatMapIterableWith flatMapWith switchMap</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxScala" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxScala">
          <div class="panel-body">
            
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  
          </div>
        </div>
      </div>
      

  
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingRxSwift">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseRxSwift" aria-expanded="true" aria-controls="collapseRxSwift">
              RxSwift <code>concat</code>
            </a>
          </h4>
        </div>
        <div id="collapseRxSwift" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingRxSwift">
          <div class="panel-body">
            
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  
          </div>
        </div>
      </div>
      

</div>

    </div>
    <div class="col-sm-4">
    <ul class="side-menu">
      <li><a href="/documentation/observable.html">Observable</a></li>
      <li><a href="/documentation/operators.html">Operators</a></li>
      <li><a href="/documentation/subject.html">Subject</a></li>
      <li><a href="/documentation/scheduler.html">Scheduler</a></li>
    </ul>
    </div>
  </div>
</div>

    </div>

    <footer>
      <div class="container">

        <div class="row">
          <div class="col-sm-3">
            <ul class="footer-section">
              <li><h4>Documentation</h4></li>
              <li><a href="/documentation/observable.html">Observable</a></li>
<li><a href="/documentation/operators.html">Operators</a></li>
<li><a href="/documentation/subject.html">Subject</a></li>
<li><a href="/documentation/scheduler.html">Scheduler</a></li>

            </ul>
          </div>

          <div class="col-sm-3">
            <ul class="footer-section">
              <li><h4>Languages</h4></li>
              <li><a href="https://github.com/ReactiveX/RxJava">RxJava<span class="external-link"></span></a></li>
<li><a href="https://github.com/Reactive-Extensions/RxJS">RxJS<span class="external-link"></span></a></li>
<li><a href="https://github.com/Reactive-Extensions/Rx.NET">Rx.NET<span class="external-link"></span></a></li>
<li><a href="/rxscala">RxScala</a></li>
<li><a href="https://github.com/ReactiveX/RxClojure">RxClojure<span class="external-link"></span></a></li>
<li><a href="/languages.html">Others</a></li>

            </ul>
          </div>

          <div class="col-sm-3">
            <ul class="footer-section">
              <li><h4>Resources</h4></li>
              <li><a href="/tutorials.html">Tutorials</a></li>
<!-- Uncomment only when ready
<li><a href="/releases.html">Releases and Binaries</a></li>
<li><a href="#">Code samples</a></li>
<li><a href="#">Presentations</a></li>
<li><a href="#">Related Projects</a></li>
<li><a href="#">Who uses Rx</a></li>
 -->

            </ul>
          </div>

          <div class="col-sm-3">
            <ul class="footer-section">
              <li><h4>Community</h4></li>
              <li><a href="https://github.com/ReactiveX">GitHub<span class="external-link"></span></a></li>
<li><a href="https://twitter.com/ReactiveX">Twitter<span class="external-link"></span></a></li>
<li><a href="/community.html">Others</a></li>

            </ul>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12 disclaimer">
            <img class="footer-logo" src="/assets/Rx_Logo_BW_S.png" alt="" />
            <a href="">ReactiveX<span class="external-link"></span></a> is a collection of open source projects. The content of this
            page is licensed under Creative Commons Attribution 3.0 License, and
            code samples are licensed under the BSD License.
          </div>
        </div>
      </div>
    </footer>

    <!-- back to top link -->
    <span id="top-link-block" class="hidden">
        <a href="#top" class="well well-sm" onclick="$('html,body').animate({scrollTop:0},'slow');return false;">
            <i class="glyphicon glyphicon-chevron-up"></i>
        </a>
    </span>

    <!-- Activate current page menu button -->
    <script>$("#menu-flatMap").addClass("active");</script>

    <!-- Polymer Paper Tabs -->
    <link rel="import" href="/polymer/components/paper-tabs/paper-tabs.html" />
    <!-- Polymer Code Snippet Element-->
    <link rel="import" href="/polymer/elements/code-snippet.html" />
    <link rel="import" href="/polymer/elements/tabs-panel.html" />
    <link rel="import" href="/polymer/elements/tab-code.html" />

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>
    <!-- Prism -->
    <script src="/js/prism.js"></script>
    <script src="/js/prism.clojure.js"></script>
    <!-- Google Closure -->
    <script src="/js/goog/base.js"></script>

    <script>
        goog.require('goog.html.SafeHtml');
    </script>

    <script>
        /* Dynamic "Back to top" link */
        if ( ($(window).height() + 100) < $(document).height() ) {
            $('#top-link-block').removeClass('hidden').affix({
                offset: {top:100}
            });
        }
    </script>

  </body>
</html>
